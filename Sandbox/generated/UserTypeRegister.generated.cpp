//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by DYEditorCodeGenerator.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
#include "Type/UserTypeRegister.h"

#include "Util/Macro.h"
#include "Type/TypeRegistry.h"
#include "Serialization/SerializedObjectFactory.h"
#include "ImGui/ImGuiUtil.h"

// Insert user headers here...
#include "include/TestComponents.h"
#include "include/AnotherTestComponents.h"
#include "include/SystemExample.h"


namespace DYE::DYEditor
{
	/// A helper function that helps updating context data after a DrawControl call.
	/// Used by DrawInspector functions mostly.
	inline void updateContextAfterDrawControlCall(DrawComponentInspectorContext &context)
	{
		context.IsModificationActivated |= ImGuiUtil::IsControlActivated();
		context.IsModificationDeactivated |= ImGuiUtil::IsControlDeactivated();
		context.IsModificationDeactivatedAfterEdit |= ImGuiUtil::IsControlDeactivatedAfterEdit();
	}

	void userRegisterTypeFunction()
	{
		// Insert user type registration here...

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<TestNamespace::TestComponentA>
			(
				NAME_OF(TestNamespace::TestComponentA),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<TestNamespace::TestComponentA>();
							serializedComponent.SetPrimitiveTypePropertyValue("FloatValue", component.FloatValue);
							serializedComponent.SetPrimitiveTypePropertyValue("IntegerValue", component.IntegerValue);
							// Property 'intCannotBeSerialized' will not be serialized because its type 'int' is not supported.
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<TestNamespace::TestComponentA>();
							component.FloatValue = serializedComponent.GetPrimitiveTypePropertyValueOr<Float>("FloatValue", 1.0f);
							component.IntegerValue = serializedComponent.GetPrimitiveTypePropertyValueOr<Int32>("IntegerValue", 20);
							// Property 'intCannotBeSerialized' will not be serialized because its type 'int' is not supported.
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<TestNamespace::TestComponentA>();
							changed |= ImGuiUtil::DrawFloatControl("FloatValue", component.FloatValue); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawIntControl("IntegerValue", component.IntegerValue); updateContextAfterDrawControlCall(drawInspectorContext);
							ImGui::BeginDisabled(true); ImGuiUtil::DrawReadOnlyTextWithLabel("intCannotBeSerialized", "Variable of unsupported type 'int'"); ImGui::EndDisabled();
							return changed;
						},
						.GetDisplayName = []() { return "TestA"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<TestNamespace::Subnamespace::SubtestComponentA>
			(
				NAME_OF(TestNamespace::Subnamespace::SubtestComponentA),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<TestNamespace::Subnamespace::SubtestComponentA>();
							serializedComponent.SetPrimitiveTypePropertyValue("IntegerValue", component.IntegerValue);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<TestNamespace::Subnamespace::SubtestComponentA>();
							component.IntegerValue = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Int32>("IntegerValue");
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<TestNamespace::Subnamespace::SubtestComponentA>();
							changed |= ImGuiUtil::DrawIntControl("IntegerValue", component.IntegerValue); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "TestNamespace::Subnamespace::SubtestComponentA"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<TestComponentB>
			(
				NAME_OF(TestComponentB),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<TestComponentB>();
							serializedComponent.SetPrimitiveTypePropertyValue("BooleanValue", component.BooleanValue);
							std::string OneCharacter(" "); OneCharacter[0] = component.OneCharacter; serializedComponent.SetPrimitiveTypePropertyValue("OneCharacter", OneCharacter);							// Property 'ConstantFloat' will not be serialized because it is a constant variable.
							serializedComponent.SetPrimitiveTypePropertyValue("Position", component.Position);
							serializedComponent.SetPrimitiveTypePropertyValue("vec4", component.vec4);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<TestComponentB>();
							component.BooleanValue = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Bool>("BooleanValue");
							component.OneCharacter = serializedComponent.GetPrimitiveTypePropertyValueOr<const char*>("OneCharacter", "a")[0];
							// Property 'ConstantFloat' will not be serialized because it is a constant variable.
							component.Position = serializedComponent.GetPrimitiveTypePropertyValueOr<Vector3>("Position", glm::vec3 {0, 0, 5});
							component.vec4 = serializedComponent.GetPrimitiveTypePropertyValueOr<Vector4>("vec4", glm::vec4 {1, 2, 3, 4});
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<TestComponentB>();
							changed |= ImGuiUtil::DrawBoolControl("BooleanValue", component.BooleanValue); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawCharControl("OneCharacter", component.OneCharacter); updateContextAfterDrawControlCall(drawInspectorContext);
							ImGui::BeginDisabled(true); ImGuiUtil::DrawReadOnlyTextWithLabel("ConstantFloat", "Constant variable of type 'Float'"); ImGui::EndDisabled();
							changed |= ImGuiUtil::DrawVector3Control("Position", component.Position); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawVector4Control("vec4", component.vec4); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "TestComponentB"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<ComponentWithAllPrimitiveProperties>
			(
				NAME_OF(ComponentWithAllPrimitiveProperties),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<ComponentWithAllPrimitiveProperties>();
							std::string CharVar(" "); CharVar[0] = component.CharVar; serializedComponent.SetPrimitiveTypePropertyValue("CharVar", CharVar);							serializedComponent.SetPrimitiveTypePropertyValue("BoolVar", component.BoolVar);
							serializedComponent.SetPrimitiveTypePropertyValue("Int32Var", component.Int32Var);
							serializedComponent.SetPrimitiveTypePropertyValue("FloatVar", component.FloatVar);
							serializedComponent.SetPrimitiveTypePropertyValue("Vector2Var", component.Vector2Var);
							serializedComponent.SetPrimitiveTypePropertyValue("Vector3Var", component.Vector3Var);
							serializedComponent.SetPrimitiveTypePropertyValue("Vector4Var", component.Vector4Var);
							serializedComponent.SetPrimitiveTypePropertyValue("Color4Var", component.Color4Var);
							serializedComponent.SetPrimitiveTypePropertyValue("StringVar", component.StringVar);
							serializedComponent.SetPrimitiveTypePropertyValue("QuaternionVar", component.QuaternionVar);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<ComponentWithAllPrimitiveProperties>();
							component.CharVar = serializedComponent.GetPrimitiveTypePropertyValueOr<const char*>("CharVar", "a")[0];
							component.BoolVar = serializedComponent.GetPrimitiveTypePropertyValueOr<Bool>("BoolVar", false);
							component.Int32Var = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Int32>("Int32Var");
							component.FloatVar = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Float>("FloatVar");
							component.Vector2Var = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Vector2>("Vector2Var");
							component.Vector3Var = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Vector3>("Vector3Var");
							component.Vector4Var = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Vector4>("Vector4Var");
							component.Color4Var = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Color4>("Color4Var");
							component.StringVar = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<String>("StringVar");
							component.QuaternionVar = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<Quaternion>("QuaternionVar");
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<ComponentWithAllPrimitiveProperties>();
							changed |= ImGuiUtil::DrawCharControl("CharVar", component.CharVar); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawBoolControl("BoolVar", component.BoolVar); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawIntControl("Int32Var", component.Int32Var); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawFloatControl("FloatVar", component.FloatVar); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawVector2Control("Vector2Var", component.Vector2Var); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawVector3Control("Vector3Var", component.Vector3Var); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawVector4Control("Vector4Var", component.Vector4Var); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawColor4Control("Color4Var", component.Color4Var); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawTextControl("StringVar", component.StringVar); updateContextAfterDrawControlCall(drawInspectorContext);
							// 'QuaternionVar' : Quaternion 
							{
								glm::vec3 eulerDegree = glm::eulerAngles(component.QuaternionVar);
								eulerDegree += glm::vec3(0.f); eulerDegree = glm::degrees(eulerDegree);
								if (ImGuiUtil::DrawVector3Control("QuaternionVar", eulerDegree))
								{
									eulerDegree.y = glm::clamp(eulerDegree.y, -90.f, 90.f);
									component.QuaternionVar = glm::quat (glm::radians(eulerDegree));
									changed = true;
								}
								updateContextAfterDrawControlCall(drawInspectorContext);
							}
							return changed;
						},
						.GetDisplayName = []() { return "ComponentWithAllPrimitiveProperties"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<HasAngularVelocity>
			(
				NAME_OF(HasAngularVelocity),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<HasAngularVelocity>();
							serializedComponent.SetPrimitiveTypePropertyValue("AngleDegreePerSecond", component.AngleDegreePerSecond);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<HasAngularVelocity>();
							component.AngleDegreePerSecond = serializedComponent.GetPrimitiveTypePropertyValueOr<Float>("AngleDegreePerSecond", 30.0f);
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<HasAngularVelocity>();
							changed |= ImGuiUtil::DrawFloatControl("AngleDegreePerSecond", component.AngleDegreePerSecond); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "HasAngularVelocity"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<CreateEntity>
			(
				NAME_OF(CreateEntity),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<CreateEntity>();
							serializedComponent.SetPrimitiveTypePropertyValue("EntityNamePrefix", component.EntityNamePrefix);
							serializedComponent.SetPrimitiveTypePropertyValue("NumberOfEntitiesToCreate", component.NumberOfEntitiesToCreate);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<CreateEntity>();
							component.EntityNamePrefix = serializedComponent.GetPrimitiveTypePropertyValueOrDefault<String>("EntityNamePrefix");
							component.NumberOfEntitiesToCreate = serializedComponent.GetPrimitiveTypePropertyValueOr<Int32>("NumberOfEntitiesToCreate", 10);
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<CreateEntity>();
							changed |= ImGuiUtil::DrawTextControl("EntityNamePrefix", component.EntityNamePrefix); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawIntControl("NumberOfEntitiesToCreate", component.NumberOfEntitiesToCreate); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "CreateEntity"; },
					}
			);

		// Component located in include/TestComponents.h
		TypeRegistry::RegisterComponentType<PrintMessageOnTeardown>
			(
				NAME_OF(PrintMessageOnTeardown),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<PrintMessageOnTeardown>();
							serializedComponent.SetPrimitiveTypePropertyValue("Message", component.Message);
							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<PrintMessageOnTeardown>();
							component.Message = serializedComponent.GetPrimitiveTypePropertyValueOr<String>("Message", "");
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<PrintMessageOnTeardown>();
							changed |= ImGuiUtil::DrawTextControl("Message", component.Message); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "PrintMessageOnTeardown"; },
					}
			);

		// Component located in include/AnotherTestComponents.h
		TypeRegistry::RegisterComponentType<TestComponentC>
			(
				NAME_OF(TestComponentC),
				ComponentTypeDescriptor
					{
						.Serialize = [](Entity& entity, SerializedComponent& serializedComponent)
						{
							auto const& component = entity.GetComponent<TestComponentC>();
							serializedComponent.SetPrimitiveTypePropertyValue("ColorValue", component.ColorValue);
							std::string TestChar2(" "); TestChar2[0] = component.TestChar2; serializedComponent.SetPrimitiveTypePropertyValue("TestChar2", TestChar2);							serializedComponent.SetPrimitiveTypePropertyValue("TestName", component.TestName);
							std::string TestChar(" "); TestChar[0] = component.TestChar; serializedComponent.SetPrimitiveTypePropertyValue("TestChar", TestChar);							return SerializationResult {};
						},
						.Deserialize = [](SerializedComponent& serializedComponent, DYE::DYEditor::Entity& entity)
						{
							auto& component = entity.AddOrGetComponent<TestComponentC>();
							component.ColorValue = serializedComponent.GetPrimitiveTypePropertyValueOr<Color4>("ColorValue", DYE::Color::Yellow);
							component.TestChar2 = serializedComponent.GetPrimitiveTypePropertyValueOr<const char*>("TestChar2", "2")[0];
							component.TestName = serializedComponent.GetPrimitiveTypePropertyValueOr<String>("TestName", "WHY IS IT LIKE THAT?!");
							component.TestChar = serializedComponent.GetPrimitiveTypePropertyValueOr<const char*>("TestChar", "X")[0];
							return DeserializationResult {};
						},
						.DrawInspector = [](DrawComponentInspectorContext &drawInspectorContext, Entity &entity)
						{
							bool changed = false;
							auto& component = entity.GetComponent<TestComponentC>();
							changed |= ImGuiUtil::DrawColor4Control("ColorValue", component.ColorValue); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawCharControl("TestChar2", component.TestChar2); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawTextControl("TestName", component.TestName); updateContextAfterDrawControlCall(drawInspectorContext);
							changed |= ImGuiUtil::DrawCharControl("TestChar", component.TestChar); updateContextAfterDrawControlCall(drawInspectorContext);
							return changed;
						},
						.GetDisplayName = []() { return "TestC"; },
					}
			);

		// System located in include/SystemExample.h
		static UpdateSystemA _UpdateSystemA;
		TypeRegistry::RegisterSystem("Update System A", &_UpdateSystemA);

		// System located in include/SystemExample.h
		static UpdateSystemB _UpdateSystemB;
		TypeRegistry::RegisterSystem("Update System B", &_UpdateSystemB);

		// System located in include/SystemExample.h
		static FixedUpdateSystem1 _FixedUpdateSystem1;
		TypeRegistry::RegisterSystem("Fixed Update System 1", &_FixedUpdateSystem1);

		// System located in include/SystemExample.h
		static FixedUpdateSystem2 _FixedUpdateSystem2;
		TypeRegistry::RegisterSystem("Fixed Update System 2", &_FixedUpdateSystem2);

		// System located in include/SystemExample.h
		static FixedUpdateSystem3 _FixedUpdateSystem3;
		TypeRegistry::RegisterSystem("Fixed Update System 3", &_FixedUpdateSystem3);

		// System located in include/SystemExample.h
		static SystemNamespace::InitializeSystemA _InitializeSystemA;
		TypeRegistry::RegisterSystem("Initialize System A", &_InitializeSystemA);

		// System located in include/SystemExample.h
		static RotateHasAngularVelocitySystem _RotateHasAngularVelocitySystem;
		TypeRegistry::RegisterSystem("Rotate Has Angular Velocity System", &_RotateHasAngularVelocitySystem);

		// System located in include/SystemExample.h
		static CreateEntitiesSystem _CreateEntitiesSystem;
		TypeRegistry::RegisterSystem("Create Entities System", &_CreateEntitiesSystem);

		// System located in include/SystemExample.h
		static PrintMessageOnTeardownSystem _PrintMessageOnTeardownSystem;
		TypeRegistry::RegisterSystem("Print Message On Teardown System", &_PrintMessageOnTeardownSystem);

		// System located in include/SystemExample.h
		static PressButtonToLoadSceneImGuiSystem _PressButtonToLoadSceneImGuiSystem;
		TypeRegistry::RegisterSystem("Runtime Load Scene ImGui System", &_PressButtonToLoadSceneImGuiSystem);

		// System located in include/SystemExample.h
		static GetViewTestImGuiSystem _GetViewTestImGuiSystem;
		TypeRegistry::RegisterSystem("Get View Test ImGui System", &_GetViewTestImGuiSystem);

	}

	class UserTypeRegister_Generated
	{
	public:
		UserTypeRegister_Generated()
		{
			DYE::DYEditor::AssignRegisterUserTypeFunctionPointer(userRegisterTypeFunction);
		}
	};

	[[maybe_unused]]
	static UserTypeRegister_Generated userTypeRegister_GeneratedInstance = UserTypeRegister_Generated();
}
